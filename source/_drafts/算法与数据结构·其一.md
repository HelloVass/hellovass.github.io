---
title: 算法与数据结构·其一
date: 2020-03-10 12:38:21
tags:
    - 算法与数据结构
    - 面试
---

# 前言

大厂的面试其实蛮套路的，算法和数据结构上的提问总是一环扣一环。

还是跟之前一样，抛出两个问题：

- 时间复杂度的定义是怎样的？如何分析一个算法的时间复杂度？
- SparseArray 和 HashMap 有什么区别？

<!-- more -->

# 时间复杂度的定义

即**大 O 时间复杂度表示法**，大 O 时间复杂度实际上并不具体表示代码真正的执行时间，而是表示**代码执行时间随数据规模增长的变化趋势**，所以，也叫做**渐进时间复杂度**，简称时间复杂度。

# SparseArray&HashMap

先来看一哈 StackOverflow 上的相关问题——[SparseArray vs HashMap](https://stackoverflow.com/questions/25560629/sparsearray-vs-hashmap)。

然后看一哈国外的老哥对这个问题的解答：

如果 key 为基本类型的话，SparseArray 可以用来替代 HashMap。并且 Android 提供了一些 key/value 的变体，足够我们日常开发使用了。

好处有哪些？

- 节省空间
- 省去了对 Key 自动装箱的开销

缺点有哪些？

- 集合数据规模很大的时候速度会慢一些
- 无法脱离 Android SDK 工作

HashMap 可以被下面的替代：

```java
SparseArray          <Integer, Object>
SparseBooleanArray   <Integer, Boolean>
SparseIntArray       <Integer, Integer>
SparseLongArray      <Integer, Long>
LongSparseArray      <Long, Object>
LongSparseLongArray  <Long, Long> 
```

> PS: 省略了 `SparseIntArray` 和 `HashMap` 空间占用的计算，具体可以看这位老哥咋算的

## SparseArray

SparseArray 建立整数索引和对象的关系，和简单的数组对象相比，SparseArray 允许索引之间有间隔。

SparseArray 支持和 HashMap 类似的 get 和 put 方法。在其内部维护了两个数组，一个用户存储索引，一个用于存储对象。

```java
public class SparseArray<E> implements Cloneable {

    private int[] mKeys;

    private Object[] mValues;

    private int mSize;
```

索引被从小到大映射到 mKeys 数组中。

### 索引映射


# 参考

- [03 | 复杂度分析（上）：如何分析、统计算法的执行效率和资源消耗？](https://time.geekbang.org/column/article/40036)